<script>
  async function loadLeaderboard() {
    try {
      const res = await fetch('/results.json');
      const results = await res.json();

      const tbody = document.querySelector('#leaderboard tbody');
      tbody.innerHTML = '';

      results.forEach(r => {
        const row = document.createElement('tr');
        if (r.HasTop === 'true') row.classList.add('highlight');

        row.innerHTML = `
          <td>${r.Climber}</td>
          <td>${r.Route}</td>
          <td>${r.TotalAttempts}</td>
          <td>${r.HasZone === 'true' ? '✅' : '❌'}</td>
          <td>${r.HasTop === 'true' ? '✅' : '❌'}</td>
          <td>${r.ZoneOnAttempt || '-'}</td>
          <td>${r.TopOnAttempt || '-'}</td>
        `;
        tbody.appendChild(row);
      });
    } catch (err) {
      console.error('Error loading leaderboard:', err);
    }
  }

  loadLeaderboard();
</script>
